                                                                  POSTGRE SQL
                                                            -----------------------
What is data ?
Ans - Raw facts that define the attributes of an entity.

Application
--------------
1. Do specific task have dedicated functinally.
2. Has its own file extension.
3. Platform independent
4. Collection of Packages.

DBMS -->S/W to manage the database
        * delete
        * update
        * insert

TYPES OF DBMS
------------------
1.Network DBMS
2.RDBMS
3.Hierachical DBMS
4.Object oriented DBMS : This is an object based database.

NOTE : Network dbms,hierachical dbms,object oriented dbms, are used before 1970.
       RDBMS after 1971 used.

RELATIONAL DBMS
-------------------
RDBMS : A DBMS which organize and store the data by following Relatinal-Model is known as RDBMS.
        This defines database relational in the form of tables, also known as relations.

R-MODEL : DBMS which follows the E.F Codd rules known as R-Model.

TABLE : It is the logical representation of data which consist of rows and columns.
COLUMNS : Attributs and field ,it is used to represent all the properties of all the entities.
ROWS : Records ,truple.
CELL : Smallest unit of table which is used to store a data. 

RULES OF EF CODD RULES :

Rule 1. The data entered into the cell should be single valued or atomic value.

Rule 2. We can store the data in multiple tables if needed we can establish connection b/w two tables using key attributes.

Rule 3: Systematic treatment of NULL
Null has several meanings, it can mean missing data, not applicable or no value. It should be handled consistently. Also, Primary key must not be null, ever. Expression on NULL must give null.
 
Rule 4: Active Online Catalog
Database dictionary(catalog) is the structure description of the complete Database and it must be stored online. The Catalog must be governed by same rules as rest of the database. The same query language should be used on catalog as used to query database.

Rule 5: Powerful and Well-Structured Language
One well structured language must be there to provide all manners of access to the data stored in the database. Example: SQL, etc. If the database allows access to the data without the use of this language, then that is a violation.

Rule 6: View Updation Rule
All the view that are theoretically updatable should be updatable by the system as well.

Rule 7: Relational Level Operation
There must be Insert, Delete, Update operations at each level of relations. Set operation like Union, Intersection and minus should also be supported.

Rule 8: Physical Data Independence
The physical storage of data should not matter to the system. If say, some file supporting table is renamed or moved from one disk to another, it should not effect the application.

Rule 9: Logical Data Independence
If there is change in the logical structure(table structures) of the database the user view of data should not change. Say, if a table is split into two tables, a new view should give result as the join of the two tables. This rule is most difficult to satisfy.

Rule 10: Integrity Independence
The database should be able to enforce its own integrity rather than using other programs. Key and Check constraints, trigger etc, should be stored in Data Dictionary. This also make RDBMS independent of front-end.

Rule 11: Distribution Independence
A database should work properly regardless of its distribution across a network. Even if a database is geographically distributed, with data stored in pieces, the end user should get an impression that it is stored at the same place. This lays the foundation of distributed database.

Rule 12: Nonsubversion Rule
If low level access is allowed to a system it should not be able to subvert or bypass integrity rules to change the data. This can be achieved by some sort of looking or encryption.

NOTE : It is not mandatory to have a primary key in the table but it is highly recommented to have a primary key.

Ques) What is constraints ?
Ans - Constraints are the rules enforced on the data columns of a table. These are used to limit the type of data that can go into a table.

TYPES OF CONSTRAINTS :
1.NOT NULL : It should have some value or in the other words the constraints is used to specify that the data is mandatory.
2.CHECK CONSTRAINTS : It is an extra validation given to a columns with a conditions.
3.PRIMARY KEY : It is the combination of not null and unique key.
4.UNIQUE KEY : It is used to avoid duplicacy of value into the column.
5.FOREGIN KEY :- It is used to established the relationhip b/w two tables.
               - We can have 'n' number foreign key in table.
               - It can be duplicates and can have null values.

CHARACTERICS  
---------------------
1.A table in which foregin key is present is known as child table.
2.A table in which its actually belong to parents key.
3.FK must and should be define as primary key in parent table.
4.We cannot insert a value in a column define as a FK which is not present in the parent table column.
5.FK is also known as referral integrity constraint.

DATA TYPE 
-----------------
1. Numeric : * Date -> YYYY-MM-DD (using single quotes)
             * Time -> HH:MI:SS 
             * DATE TIME -> YYYY-MM-DD HH:MI:SS

2. CHAR    : A to Z ,0-9 and some special character.
             char(size)
             char(10)
             Ravi
  *VARCHAR(10)-> Its a variable memory allocation.

NOTE - Data type are mandatory but constraints can be optional.
==========================================================================================================================
SQL 
---------
Language it helps to communicate with RDBMS application.
*IBM was first company to developed which follow the relational model also known as system R.
*IBM developed a language to communicate with system R it is known as SEQUEL(SIMPLE ENGLISH QUERY LANGUAGE).
*ANSI acquried SEQUEL recommended to SQL.
*SQL is standard language for all the RDBMS application.
*SQL is case insensitive language.

ORDBMS=>RDBMS+OODBMS
        An ORDBMS is a hybrid combination of RDBMS and OODBMS(object oriented dbms) that 
        allow developer to integrate the database with their own custom datatype and method.

POSTGRES OR POSTGRESQL 
----------------------------
*Its an open source object relational db.
*It is the worlds most advanced open source relational DB.
*It is written in C language.

DDL :Data defination language
     *Create
     *Alter
     *Drop
     *Rename
     *Truncate
DML :Data Manipulation Language
     *Insert
     *Update
     *Delete
DCL :Data control language
     *Grant
     *Revoke
TCL :Transactional control language
     *Commit
     *Roll back
     *Save point
DQL :Data query language

DDL - DATA DEFINATION LANGUAGE
----------------------------------------------

Syntax for creating database : 

CREATE DATABASE database_name
                           
*\l ->To check how many database present in DB.
*\c database_name; -> To connect the database which we want.
*\d -> To check any data present in database.
*\d table_name -> To check table structure.

CREATE TABLE :
-----------------------
Syntax -CREATE TABLE table_name(column_name data_type constraint);
Example - create table Person(id int,name varchar(50),email varchar(200));

*\d Person -> To check data of table structure.

ALTER : ADD
---------------------
Syntax - ALTER table_name ADD column_name;
Example -alter Person add column age int;

DROP : (COLUMN)
---------------------
Syntax - ALTER table_name drop column_name;
Example -alter Person drop column age ;

RENAME:
--------------------
Syntax - ALTER table_name RENAME column_old_name to new_name;
Example -alter Person rename name to ename;

RENAME TABLE :
Syntax -ALTER TABLE table_name RENAME TO new_table_name;

*To change the database name:
syntax-ALTER database_name to new_database_name;
Example - alter database test_db to test;

DROP TABLE :
---------------------
Syntax - DROP TABLE table_name;
Example - drop table emp;  

TRUNCATE 
----------------------
By  using truncate command we can remove all the data from table but table structure will remain same.
it is a permanent option.
Syntax - TRUNCATE TABLE table_name;

Salary --- double precision
=============================================================================================================================

DQL--DATA QUERY LANGUAGE
------------------------------------------------------

There are different ways to retrive the data from table
1.Projection:         
2.Selection:rows and columns
3.Join:retriving a data from multiple table.

Syntax:

SELECT*/[DISTINCT] COLUMN_NAME/EXPRESSION [ALIAS]
FROM TABLE_NAME;

Select*from Employee;---eg selection

*->special character it help us to retrive all the column/data in table.

order of Execution:
from
select
       
select ename from Employee;-- eg projection

write query to display name deptno salary from table.
->select ename.deptno,salary from Employee;

write a query to insert to more then one record in a same table.

Update:
Syntax: update table_name set column_name=value;

Delete:
delete from table_name;

Where Clause: it will execute row by row if the condition got satisfy it will return the value else it will
              reject the row.we use where clause

SELECT*FROM table_name WHERE condition;
syntax: select* from Employee where id=13;

question- W.A.Q to Update a salary whose empid is 104
syntax- update Employee set salary=30000.00 where id=104;

Delete with where clause:
syntax:delete from Employee where empid=12;

Order of Execution:
*from
*where
*select

Qus) insert a two row in a column ?
* insert into Employee values(21,'Ankita','software developer','2015-12-12',8999.89,24,'rita89@gmail.com',30,9856743210),(20,'Shila','Tester','2016-12-12',9900.89,26,'rita89@gmail.com',20,9876543210);
=====================================================================================================================================================
Date->05-05-2020

Q.) W.A.Q to delete a record whose empid is 108 ?
 Ans -  delete from Employee where empid=108;

EXPRESSION-It consist of operator and operand

      incrementsal=sal+500  (+ is operator)

1.Column_name
2.Literal->The direct value or real value use in the SQL statement.
 * Number-the direct value for literal is known as number literal.
 * Character-it shoould be in the single inverted coma eg-'ruby'.
 * 
Date-'1999-23-09'

OPERATORS:
1.Arithmetic Operators-(+,-,/,%)
2.Logical  Operators
3.Comparision  Operators
4.Special Operators

ALIAS: SQL aliases are used to give a table,or a column in a table, a temporary name.
       Aliases are often used to make column names more readable.

Syntax: SELECT column_name AS alis_name FROM table_name AS alias_name;
NOTE  - 'AS' keyword is optional.

Ques) write a query to change designation name to job_type ?
 Ans  -   select designation as job_type from Employee;
 * without using 'as' keyword
 Ans  -  select designation job_type from Employee;

Ques) Add a two number and give column name as 'ADD' and same thing for substration also...?
 Ans  -  select (4+5) add; 
         select (9-5) substraction;

ASSIGNMENT:
---------------
Ques)1. W.A.Q to obtained employee name and current salary and a new salary wid a hike 25% of all emp ?
     Ans - select ename,salary,salary + (salary * 25/100) as NewSalary from Employee;

     2. W.A.Q to display all the record of emp increment wid 500rs of each emp ?
     Ans - select (salary+500) salary from Employee;

     3. W.A.Q to display all the record of emp decrement wid 500rs of each emp ?
     Ans - select (salary-500) salary from Employee;

     4. W.A.Q to display salary and annual salary of all the emp?
     Ans - select salary,(salary*12) Annual_salary from Employee;

     5. W.A.Q to display per day salary of all the emp?
     Ans - select (salary/30) daily_salary from Employee;
==================================================================================================================
Date-06-05-2020

DISTINCT :SELECT distinct statement is used to return only distinct(different) values.
      
Syntax - select distinct column_name from table_name;
*with single argument   - if we are passing the single arg it will remove the duplicate value.
      eg -   select distinct ename from Employee;

* with more then one argument-if we have more then one arg it will remove the duplicate value and give the combination both the value.
      eg - select distinct ename, deptno from Employee;

COMPARISON OPERATORS :(>,<,=,>=,<=,!=,<>)

Note- (<>) it is also work as not equal operator.
-----
Ques)Write a query to display all the info whose deptno is 10?
Ans - select * from Employee where deptno=10;

Ques) Write a query to display all the info whose salary is greater then 10000?
Ans - select * from Employee where salary>10000;

Ques) Write a query to display all the record of the emp whose salary is greater than 25000?
Ans - select* from Employee where salary>25000;

Ques) Write a query to display all the record of the emp whose salary is greater equal to 25000?
Ans - select* from Employee where salary>=25000;

Ques) Write a query to display all the record of the emp whose salary is less than 25000?
Ans - select* from Employee where salary<25000;

Ques) Write a query to display all the record of the emp whose salary is less equal to 25000?
Ans - select* from Employee where salary<=25000;

Ques) Write a query to display all the record of the emp whose salary is not equal to 25000?
Ans - select* from Employee where salary!=25000;
================================================================================================================
Date-07-05-2020

LOGICAL OPERATORS :(AND ,OR, NOT)

AND :
Syntax : SELECT * FROM table_name WHERE conditional_1 and condition_2;

QUES) WAQ to display all the record of the employee whose designation is hr and deptno is 40 ?
Ans - select * from Employee designation ='HR' and deptno =40;

Ques) WAQ to display all the record of the Employee whose working as salaesman and hired after 2016.
Ans - select * from Employee where designation ='Salesman' and hiredate > '2016-12-31';

Ques) WAQ to display all the record of the Employee whose working as HR in deptno 40 only if salary is greater then 20000 ?
Ans - select * from Employee where designation ='HR' and deptno= 40 and salary=20000;

OR :
Syntax - SELECT * FROM table_name WHERE conditional_1 or conditional_2;

QUES) WAQ to display emp working in deptno 10,20 ?
Ans - select * from Employee where deptno =10 or deptno=20;

QUES) WAQ to display name, salary, deptno whose working as Teater or whose salary is equals to 18000 ?
Ans - select * from Employee ename, salary, deptno from Employee where designation='Tester' or salary=15000;

QUES) WAQ to display name of all the emp working as Tester as well as deptno=20 or working as clerk whose salary is greater then equal to 15000 ?
Ans - select * from Employee ename from Employee designation='Teater' or deptno=30;

NOT :
Syntax - SELECT * FROM table_name WHERE not condition;

QUES) WAQ is display all the record whose not working is deptno is 30 ?
Ans - select * from Employee where not deptno=30;
* select * from Employee where deptno!=10;
* select * from Employee where deptno<>10;

ORDER OF EXECUTION
------------------------
*NOT
*AND
*OR

QUES)WAQ to display all the record of emp execution 'HR' whose working in deptno=40?
Ans - select* from Employee where designation!='HR' and deptno!=40;
    - select * from Employee where not designation='HR' and deptno=30;

QUES)WAQ to display all the emp who has hired after january 2015 working as Tester in deptno=20 or display all the record who has hired before 2015?
Ans - select * from Employee where (hiredate>'2015-01-31' and designation='Tester' and deptno=20) or hiredate <'2015-01-01';

QUES)WAQ to display all record of the emp whose working in deptno=10,30,40,50,60 ?
Ans - select * from Employee where deptno=10 or deptno=30 or deptno=40 or deptno=50 or deptno=60;

SPECIAL OPERATOR
---------------------
IN - Its a type of special where it will contains multiple values.
Syntax - SELECT * FROM table_name where column_name IN(value1 , value2, value3-------valuen);

QUES)WAQ to display all record of the emp whose working in deptno=10,30,40,50,60 ?
Ans- select * from Employee where deptno IN(10,20,30,40,50,70);
   - 10 IN (10,20,40,60,70);
   - 20 IN (10,20,40,60,70);
   - 80 IN (10,20,40,60,70);

WAQ to display all the record of the emp whose working as salesman, manager or admin?
Ans - select * from Employee where designation IN('Salesman','Manager','Admin');

NOT IN
----------------
Syntax - SELECT * FROM table_name WHERE column_name NOT IN(value1,value2,value3------value_n)

QUES) WAQ to display all the record of the emp whose working as deptno 50,30,40 execulding HR and salesman ?
Ans - select * from Employee where deptno IN(50,30,40)  and designation NOT IN('HR','Salesman')

BETWEEN OPERATOR
------------------------
Syntax - SELECT * FROM table_name WHERE column_name value_1 BETWEEN value_2; 

QUES)WAQ to display all the record of the emp whose salary range is within 20000 to 40000 ?
Ans - select * from Employee where salary>20000 and salary<40000;
    - select * from Employee where salary between 20000 and 40000; (using between)

QUES)WAQ to display 100 between 50 and 150 ?
 Example -    100>=50
              100<=150 // True

              151>=50
              151<=150 // False

QUES)WAQ to display all the emp record who get hired in 2014 ?
Ans - select * from Employee where hiredate between '2014-01-01' and '2014-12-31';

QUES)WAQ to display ename salary of the emp whose working in deptno=10,20 and there annual salary  between 40000 to 50000?
Ans - select ename,salary from Emloyee where deptno IN(10,20) and salary*12 between 40000 and 50000;

NOT BETWEEN
-----------------------------
Syntex - SELECT * FROM table_name WHERE column_name NOT BETWEEN value_1 and value_2; 

QUES)WAQ to display all the record of the emp execulding who hired into 2015 and 2017?
Ans - select * from Employee where hiredate not between '2015-01-01' and '2017-12-31';

IS OPERATOR
-----------------------
Null = no values 
a+ Null= Null

IS- It is used to check only null values.

Syntax - SELECT * FROM table_name WHERE column_name IS NULL;

NOT IS
---------------------
Show the not null values.

Syntax - SELECT * FROM table_name WHERE column_name IS NOT NULL; 
==================================================================================================================
Date-11-05-2020

LIKE OPERATOR
----------------------
Character
Ordinary Character - a to z
                   - A to Z
                   - 0 to 9

Special Character  - *
                   - % -> ram,rahul,rita,riya
                   - _ -> it hold only one letter

Syntax - SELECT * FROM table_name WHERE column_name like '%/_';

QUES )WAQ to dispaly all the record of the emp whose name start wid 'R'?
Ans - select * from Employee where ename like 'R%';

QUES)WAQ to display all the record of the emp whose having 3 letter
Ans - select * from Employee where ename like '___';

QUES)WAQ to display all the record of the emp who has atleast two 'L' in there names?
Ans - select * from Employee where ename like '%L%L%';

QUES)WAQ to whose name start with S and end with P? 
Ans - select * from Employee where ename like 'S%P'; 

QUES)WAQ  display all the record of the emp whose name  length is 5 starting charater should be S AND L IS IN 2ND LAST CHARATHER?
Ans- select * from Employee where ename like 'S__L_';

QUES)WAQ to display all details of the emp if the emp name began with S or A ? 
Ans - select * from Employee where ename like 'S%' or ename like 'A%';

QUES)WAQ  to display all the details of the emp ename not end wid Z and and not start wid P?
Ans - select * from Employee where ename not like '%Z' and ename not like 'P%';

ASSIGNMENT FOR OPERATOR
-------------------------------------------
QUES.1) LIST ALL THE EMPLOYEES WHOSE SALARY IS NULL ?
Ans - select * from Employee where salary is null;

QUES.2) LIST ALL THE EMPLOYEES WHO DON’T HAVE A DEPT NO ?
Ans - select * from Employee where deptno is null;

QUES.3) LIST ALL THE SALESMEN IN DEPT 30 ?
Ans - select * from Employee where designation='Salesman' and deptno=30;

QUES.4) LIST ALL THE SALESMEN IN DEPT NUMBER 30 AND HAVING SALARY GREATER THAN 1500 ?
Ans - select * from Employee where designation='Salesman' and deptno=30 and salary>1500;

QUES.5) LIST ALL THE EMPLOYEES WHOSE NAME STARTS WITH ‘S’ OR ‘A’?
Ans -  select * from Employee where ename like 'S%' or ename like 'A%';

QUES.6) LIST ALL THE EMPLOYEES EXCEPT THOSE WHO ARE WORKING IN DEPT 10 & 20 ?
Ans -  select * from Employee where deptno NOT IN(10,20);

QUES.7) LIST THE EMPLOYEES WHOSE NAME DOES NOT START WITH ‘S’ ?
Ans - select * from Employee where ename not like 's%';

QUES.8) LIST ALL THE EMPLOYEES WHO ARE HAVING REPORTING MANAGERS IN DEPT 10 ?
Ans - select * from Employee where repmgr is not null and deptno=10;

QUES.9) LIST ALL THE EMPLOYEES WHOSE SALARY IS NULL AND WORKING AS CLERK ?
Ans - select * from Employee where salary is null and designation='Clerk';

QUES.10) LIST ALL THE EMPLOYEES WHO DON’T HAVE A REPORTING MANAGER IN DEPTNO 10 OR 30 ?
Ans - select * from Employee where repmgr is null and deptno IN(10,20);

QUES.11) LIST ALL THE SALESMEN IN DEPT 30 WITH SAL MORE THAN 2450 ?
Ans - select * from Employee where designation='Salesman' and deptno=30 and salary >2450;

QUES.12) LIST ALL THE ANALYST IN DEPT NUMBER 20 AND HAVING SALARY GREATER THAN 2500 ?
Ans - select * from Employee where designation='Analyst' and deptno=20 and salary>2500;

QUES.13) LIST ALL THE EMPLOYEES WHOSE NAME STARTS WITH ‘M’ OR ‘J’ ?
Ans - select * from Employee where ename like 'M%' or ename like 'J%';

QUES.14) LIST ALL THE EMPLOYEES WITH ANNUAL SALARY EXCEPT THOSE WHO ARE WORKING IN DEPT 30 ?
Ans - select ename,salary*12 as annual_sal from Employee where  deptno != 30;

QUES.15) LIST THE EMPLOYEES WHOSE NAME DOES NOT END WITH ‘ES’ OR ‘R’ ?
Ans - select * from Employee where ename not like '%ES' or ename not like '%R';

QUES.16) LIST ALL THE EMPLOYEES WHO ARE HAVING REPORTING MANAGERS IN DEPT 10 ALONG WITH 10% HIKE IN SALARY ?
Ans - select ename,salary,salary + (salary * 25/100) from Employee repmgr is not null and deptno=10 ;

QUES.17) DISPLAY ALL THE EMPLOYEE WHO ARE ‘SALESMAN’S HAVING ‘E’ AS THE LAST BUT ONE CHARACTER  IN ENAME BUT SALARY HAVING EXACTLY 4 CHARACTER?
Ans - select * from Employee designation='Salesman' and ename like '%E' and salary like '____';

QUES.18) DISPLAY ALL THE EMPLOYEE WHO ARE JOINED AFTER YEAR 81 ?
Ans - select * from Employee where hiredate like '__81-12-31';

QUES.19) DISPLAY ALL THE EMPLOYEE WHO ARE JOINED IN FEB ?
Ans - select * from Employee where cast(hiredate as varchar) like '____-02-__';

QUES.20) LIST THE EMPLOYEES WHO ARE NOT WORKING AS MANAGERS AND CLERKS IN DEPT 10 AND 20 WITH A SALARY IN THE RANGE OF 1000 TO 3000?
Ans - select * from Employee where designation !='HR' and designation !='Clerk' and deptno IN(10,20) and salary between
      1000 to 15000;

QUES.21) LIST THE EMPLOYEES WHOSE SALARY NOT IN THE RANGE OF 1000 TO 2000 AND WORKING IN DEPT 10,20 OR 30 EXCEPT ALL SALESMEN ?
Ans - select * from Employee where salary not between 10000 and 20000 and deptno IN(40,20,30) and designation !='Salesman';

QUES.22) LIST THE DEPARTMENT NAMES WHICH ARE HAVING LETTER ‘O’ IN THEIR LOCATIONS AS WELL AS THEIR DEPARTMENT NAMES ?
Ans - select dname from Employee where location like '%O% and dname like '%O%';

QUES.23) DISPLAY ALL THE EMPLOYEES WHOSE JOB HAS STRING ‘MAN’ IN IT ?
Ans - select * from Employee where designation like '%man%';

QUES.24)LIST THE EMPLOYEES WHO ARE HIRED AFTER 82 AND BEFORE 87 ?
Ans - select * from Employee where hiredate between '1982-12-31' and '1987-01-01';

QUES.25)WAQTD ALL THE DETAILS OF EMPLOYEES HIRED IN NOVEMBER AND DECEMBER ?
Ans - select * from Employee where cast(hiredate as varchar) like '____-11-__' or cast(hiredate as varchar) like '____-12-__';

QUES.26)LIST ALL THE EMPLOYEE NAMES AND COMISSION FOR THOSE EMPLOYEES WHO EARN COMISSION MORE THAN THEIR SALARY ?
Ans - select ename, comission from Employee where comission >salary;

QUES.27)WAQTD NAME AND DESIGNATION FOR ALL THE EMPLOYEES HAVING REPORTING MANAGERS AND ALSO THRIE NAMES STARTING WITH ‘S’ ?
Ans - select ename,designation where repmgr is not null and ename like 'S%';

QUES.28)WAQTD NAME AND SALARY OF ALL THE EMPLOYEES IF THEIR ANNUAL SALARY ENDS WITH ‘0’ ?
Ans - select ename , salary*12 as salary where annual_sal like '%0';

QUES.29)WAQTD NAME OF THE EMPLOYEE HAVING ATLEAST 2L’s IN HIS NAME ? 
Ans -select * from Employee where ename like '%L%L%';

QUES.30)WAQTD NAME OF THE EMPLOYEES WHOS NAME STARTS WITH A ‘VOWEL’ ?
Ans - select * from Employee where ename like 'A%' or ename like 'O%' or ename like 'E%' or  ename like 'I%' or  ename like 'U%';

FUNCTION
----------------------------
Function is a block of code which is use to perform a specific task.

For doing operation on data SQL has many built in functions .

*Aggregate Function -its a multi-row function having N number of input but only give one output. or
                     performs a calculation on a set of values, and returns a single value.

*Scaler Function - single-row function according to per-input u will get that per-output or  
                   accept one or more parameters but return only one value.

Aggregate Functions are :
1. AVG() - Return avg of all the values of the selected column
2.COUNT() - Return counts of all the values of the selected column
3.MAX() - Return maximum values of all the values of the selected column
4.MIN() - Return minimum  values of all the values of the selected column
5.SUM() - Return sum of all the values of the selected column

AVERAGE :
Syntax - SELECT AVG(column_name) FROM table_name;

QUES) WAQ to obtained of the avg salary of the emp ?
Ans - select avg(salary) from Employee;

COUNT :
Syntax - SELECT  COUNT(column_name) FROM table_name;

QUES) WAQ to obtained of the count salary of the emp ?
Ans - select count(salary) from Employee;

MAX :
Syntax - SELECT MAX(column_name) FROM table_name;

QUES) WAQ to obtained of the max salary of the emp ?
Ans - select max(salary) from Employee;

MIN :
Syntax - SELECT MIN(column_name) FROM table_name;

QUES) WAQ to obtained of the min salary of the emp ?
Ans - select min(salary) from Employee;

SUM :
Syntax - SELECT SUM(column_name) FROM table_name;

QUES) WAQ to obtained  sum of the salary of the emp ?
Ans - select sum(salary) from Employee;


QUES) WAQ to obtained  sum of the,avg,min,count the salary of the emp ?
Ans - select sum(salary) total_salary,avg(salary) avg_sal ,count(salary) count_sal, min(salary) minimum_sal,max(salary) 
      maximum_sal; 
==============================================================================================================
Date-14-05-2020

ORDER BY CLAUSE
------------------------------
*The ORDER BY keyboard used to sort the result-set in ascending or descending order.
*The ORDER BY keyword sorts the record in ascending order by default.To sort the records in
 descending order,use the DESC keyword.

Syntax - SELECT column1,column2/* FROM table_name
         ORDER BY column1 ASC|DESC;

NOTE : 1.by default order will be sorted in ASC order. and order by clause is alwyas written in last of the query.
       2.order by clause always execute after select clause.
       3.If the group by clause is used then order by clause in multirow.

ORDER OF EXECUTION :
*from
*where
*select
*order by

QUES)WAQ to displaay all the record salary should be in DESC Order?
Ans - select * from Employee order by salary;

QUES)WAQ to display  and sort the record on hirdate desc if there is more then one record same date then shown highest salary should be  first?
Ans - select * from Employee hiredate desc , salary asc;

QUES)WAQ to display name of emp,sal, annual sal and sort the record in asc order in annual salary ?
Ans - select ename, salary,12*salary annual_sal from Emlployee order by annual_sal;
  
QUES)WAQ to display name,designation who are working in either or the dept 10,20,30 and sort the record in asc order by there salary?
Ans - select ename, designation from Employee where deptno IN(10,20,40) order by annual_sal;

GROUP BY CLAUSE :
---------------------------------
Syntax - SELECT * FROM table_name WHERE (condition) GROUP BY column_name ;

ORDER OF execution :
*from
*where
*group
*select
NOTE - group by clause execute row by row.
     - After the  execution of group by clause the record are grouped there fore, 
       all the clauses will be execute after the execution of group by clause,will execute
       group by group( for each group). 

QUES)WAQ to display number of deptno?
Ans - select count(*),deptno from Employee group by deptno;

QUES)WAQ to display the hightest salary of emp in each dept?
Ans - select max(salary),deptno from Employee group by deptno;

QUES)WAQ to display no of tester working in each dept?
Ans - select count(*),deptno from Employee where designation='Tester' group by deptno; 

HAVING CLAUSE
-------------------------
It is use to filter group on the condition.

Syntax - SELECT * FROM table_name WHERE (row_filter_condition) GROUP BY column_name HAVING (group_filter_condition)
NOTE - having clause will always execute after the group by clause 

ORDER OF EXECUTION
-----------------------
*from
*where
*group by
*having
*select
*order by

         

QUES)WAQ to display  deptno which have atleast two clerk only.
Ans-select deptno from Employee where designation='Clerk' group by deptno having count(*)=2;


ASSIGNMENT FOR FUNCTION
---------------------------------

WAQ)1.List employees whose name having 4 characters ?
Ans - select ename from Employee where length(ename)=4; 

WAQ)2. List employees whose job is having 7 characters ?
Ans - select * from Employee where length(designation)=7;

WAQ)3. Find out how many times letter 'S' occurs in 'qspiders' ?
Ans - select length('qspiders')-length(replace('qspiders','s',''));

WAQ)4. List the employees whose job is having last 3 characters as 'man' ?
Ans - select ename from Employee where right(designation,3)='man';

WAQ)5. List employees whose job is having first 3 characters as 'man' ?
Ans - select ename from Employee where substr(designation,1,3)='man';

WAQ)6. Display all the names whose name is having exactly 1 'L' ?
Ans - select ename from Employee where (length(ename) -length(replace (ename,'L','')))=1;

WAQ)7. Display dept names which are having letter 'O' ?
Ans -  select deptname from dept where instr(dname,'O')>0;

WAQ) 8. Display the output as shown below,
   Scott working as a clerk earns 3000 in dept 20
Ans - select concat(ename,'work as a')||concat(designation,'earns')||concat(salary,'in')|| concat('dept',deptno)AS text from Employee

WAQ)9. Calculate number of L in string 'HELLLLL' ?
Ans - select length('HELLLLL')-length(replace('HELLLLL','L','')) as "number of L";

WAQ)10. Display all the employees whose job has a string 'MAN' ?
Ans -select ename from Employee where substr(designation,1,3)='MAN';

WAQ)11. Display all the employees whose job starts with string 'MAN' ?
Ans -select ename from Employee where left(designation,3)='MAN';

WAQ)12. Display all the employees whose job ends with string 'MAN' ?
Ans - select ename from Employee where right(designation,3)='MAN';

WAQ)13. Display first 3 characters of ename in lower case and rest everything in upper case ?
        If ename is 'QSPIDERS' then display  this as ‘qspIDERS’
Ans - select lower(substr(ename,1,3)) || upper(substr(ename,4)) from Employee;

WAQ)14. Display the result from emp table as below.

SMITH is a CLERK and gets salary 2000 
Here SMITH is ename column, CLERK is JOB and 2000 is SAL column and rest everything is literal strings.
Ans- select concat(upper(ename),'is a')||concat(upper(designation),'and get salary')||concat(salary) from Employee;

WAQ)15. list the employees hired on a Wednesday ?
Ans - select * from Employee where to_char(hiredate,'dy')='wed';

WAQ)16.list the employees hired on a leap year ?
Ans - select * from Employee where (cast(to_char(hiredate,'YYYY')as integer)%4=0 and (cast(to_char(hiredate,'YYYY')as integer)%100!=0;) or (cast(to_char(hiredate,'YYYY')as integer)%400=0; 

WAQ)17.list the employees hired on a Sunday in the month of may ?
Ans - select * from Employee where to_char(hiredate,'DY')='SUN' and to_char(hiredate,'MON')='MAY';

==============================================================================================================================
Date : 18-05-2020

QUES)WAQ to display deptno which have total salary 10000 in each dept.
Ans select deptno from Employee  group by deptno having sum(salary)>10000;

QUES)WAQ to display deptno which have atleast two emp hiredate into its on the same date?
Ans - select deptno from Employee group by deptno, hiredate having count(hiredate)>=2;
    or  select deptno from Employee group by deptno, hiredate having count(*)>1;

QUES)WAQ to display deptno and avg salary of all the dept whose avg salary is > 15000 by execluding the emp whose names begans with R?
Ans - select deptno,avg(salary) from Employee group by deptno having avg(salary)>15000 and ename not like 'R%'; 


NOTE - department
       deptno(pk) int 10 20 30 40 50 60
       dname varchar(200) (not null) (HR,admin,research,development,sales,testing)
       location varchar (200) (city) atleast insert 6 recrod.And create table.

Table for Department:
-----------------------------
create table Department (deptno integer primary key,dname varchar(200) not null,location varchar(200));
1.insert into Department (deptno,dname,location) values(10,'Sales','Jamshedpur');
2 insert into Department values(20,'Testing','Pune');
3.insert into Department values(30,'Development','Bangalore');
4.insert into Department values(40,'HR','Mumbai');
5.insert into Department values(50,'Research','Delhi');
6.insert into Department values(60,'Admin','Kolkata');
===============================================================================================================
DATE -19-05-2020

SUBQUERY
------------------------------
QUES)What is Subqueries ?
Ans - * A query written inside another query is known as "Subquery".
      * Subquery also known as "Inner Query" or "Nested Query".
      * Subqueries are an alternative way of returning data from multiple tables.
      * Subqueries must be enclosed within parentheses
       
Syntax  - SELECT * FROM table_name WHERE Ccolumn_name Operator(select */column_name from table_name condition)
                       ( OUTER QUERY )                                    ( INNER QUERY )

->Subquery can be classified into two categories
  *SINGLE ROW SUBQUERY
  *MULTIROW SUBQUERY

SINGLE ROW SUBQUERIES
----------------------------------
A single row subquery returns zero or one row to the outer SQL statement.
We use comparision/relational operator for singlerow subquery to get only one ouput.

Syntax - SELECT column1,column2,...FROM table_name WHERE column1 OPERATOR
         (SELECT column FROM table_name WHERE expr1=value)

MULTIROW SUBQURIES
-----------------------------
Multirow sub can return one or more number of rows.(inner query can return any number of rows).
OPERATOR -IN,OR,ANY

Syntax - SELECT column1,column2.....FROM table WHERE column1 OPERATOR
        (SELECT column FROM table WHERE expr1=value);

QUES)WAQ to display name of all the emp who were hired after abhijeet.
Ans select ename from Employee where hiredate > (select hiredate from Employee where ename='Abhijeet'); 

QUES)WAQ to display name of all the whose working for reserch department?
 select ename from Employee where deptno =(select deptno from Department where dname='reaserch');

QUES)WAQ to display name of employee whose working in location which has atleast 1 'A'?
Ans-select ename from Employee where  deptno IN (select deptno from Department where location like '%A%)

QUES)WAQ to display a 2nd maximum salary ?  
Ans select max(salary) from Employee where salary <(select max(salary) from Employee);

QUES)WAQ to display dname which has atleast two clerk ?
Ans - select dname from Department where deptno IN(select deptno from Employee where designation='Clerk' group by deptno having count(*)>=2);

QUES)WAQ to display the 3rd max salary ?
Ans - select max(salary) from Employee where salary<(select max(salary) from Employee where salary <(select max(salary) from Employee));

QUES)WAQ to dispaly the name of the emp who were hired before rahul and there salary is greater then rohit ?
Ans - select ename from Employee where hiredate < (select hiredate from Employee where ename='Abhijeet') and salary >(select salary from Employee where ename='Nidhi');

ALL OPERATOR
----------------------------
ALL operator is used to select all tuples of SELECT STATEMENT. It is also used to compare a value to every value in another value set or result from a subquery.
The ALL operator returns TRUE iff all of the subqueries values meet the condition. The ALL must be preceded by comparison operators and evaluates true if all of the subqueries values meet the condition.
ALL is used with SELECT, WHERE, HAVING statement.

ANY OPERATOR
----------------------
ANY compares a value to each value in a list or results from a query and evaluates to true if the result of an inner query contains at least one row.

ANY return true if any of the subqueries values meet the condition.
ANY must be preceded by comparison operators. 
================================================================================================
DATE - 21-05-2020

QUES) What is join ?
Ans  - join is used to fetch a data from two or multiple table.

TYPES OF JOIN
--------------------
1. CROSS JOIN
2. INNER JOIN
3. OUTER JOIN 
4. SELF JOIN
5. NATURAL JOIN

CROSS JOIN (Cartesion join)
------------------------------
T1 cross join T2
left table merge with a right table is known as cross join.

SELECT */Column_name from table_1 cross join table_2;

select * from Employee cross join Department;

INNER JOIN
----------------------------------
When we are joining two table with the help of condition is known as inner join.
inner join is a subset of cross join.
inner join retuen common values only.

T1A1=T2A2

Syntax - SELECT */column_name FROM table_1 INNER JOIN table_2 ON JOIN CONDITION;

select * from Employee e inner join Department d on e.deptno=d.deptno;

QUES)WAQ to display dname and location of all the emp whose salary is > = 40000;
Ans - select dname, location from Employee  as e inner join Department as d on e.deptno=d.deptno and salary>=15000;

QUES)WAQ to display ename and all the detail of the department if emp where hired after 2015 and working in DELHI OR BANGALORE?
Ans - 

QUES)WAQ to display ename dname if the emp name start with S or P and there dname having atleast 1 'E' in it?
=======================================================================================================

ASSIGNMENT FOR GROUP BY AND HAVING CLAUSE
-------------------------------------------------
QUES)1.	WRITE A QUERY TO DISPLAY TOTAL SALARY NEEDED TO PAY EACH JOB IN EMPLOYEE TABLE ?
Ans -  select sum(salary) as Total_sal ,desgnation from Employee group by salary,designation;

QUES)2.	WRITE A QUERY TO DISPLAY THE HIRE DATE ON WHICH AT LEAST 3 EMPLOYEES WHERE HIRED ?
Ans - select hiredate from Employee group by hiredate having count(*)>=3;

QUES)3.	WRITE A QUERY TO DISPLAY THE DEPARTMENT NUMBER WHICH HAS MORE THAN 2 EMPLOYEES AND THE TOTAL 
        AMOUNT REQUIRED TO PAY THE MONTHLY SALARIES OF ALL THE EMPLOYEES IN THAT DEPARTMENT 
        SHOULD BE MORE THAN 9000.
Ans - select deptno from Employee group by deptno having count(*)>2 and sum(salary)>9000;

QUES)4.	WRITE A QUERY TO DISPLAY NUMBER OF EMPLOYEES WORKING IN EACH DEPARTMENT AND ITS’ 
        AVERAGE SALARY BY EXCLUDING ALL THE EMPLOYEES WHOSE SALARY IS LESS THAN THEIR COMMISSION.
Ans -  select count(*),deptno from Employee where salary<commission group by deptno having avg(salary);

QUES)5.	WRITE A QUERY TO DISPLAY THE SALARIES WHICH HAS REPETITIONS IN THE SAL COLUMN OF EMPLOYEE TABLE.
Ans -  select salary from Employee group by salary having count(*)>1;

QUES)6.	WRITE A QUERY TO DISPLAY THE EMPLOYEE NAME ONLY IF MORE THAN ONE PERSON IN THE EMPLOYEES OF THE 
        COMPANY HAS SAME NAME.
Ans - select ename from Employee group by ename having count(*)>1;

QUES)7.	WRITE A QUERY TO DISPLAY THE DEPARTMENT NUMBER WHOSE AVERAGE SALARY IS BETWEEN 2500 AND 3000?
Ans - select deptno from Employee group by deptno having avg(salary) between 10000 and 28000;

QUES)8*.WRITE A QUERY TO DISPLAY THE NUMBER OF EMPLOYEES ONLY IF THEY ARE WORKING AS MANAGER OR ANALYST 
        AND THEIR ANNUAL SAL SHOULD END WITH A ZERO, IN EACH DEPARTMENT ?
Ans - select count(*) from Employee where designation IN('Manager','Tester') and 12*salary as annual_sal like '%0';
      group by deptno;

QUES)9.	WRITE A QUERY TO DISPLAY NO OF CLERKS WORKING IN EACH DEPARTMENT ?
Ans - select count(*),deptno from Employee where designation='Clerk' group by deptno ;

QUES)10. WRITE A QUERY TO DISPLAY HIGHEST SALARY GIVEN TO A MANAGER   IN EACH DEPARTMENT ?
Ans - select max(salary),deptno from Employee Where designation='Manager' group by deptno;

QUES)11. WRITE A QUERY TO DISPLAY NO OF TIMES THE SALARIES HAVE REPEATED IN THE EMP TABLE ?
Ans -  select salary,deptno from Employee group by salary,deptno having count(*)>1;

QUES)12.WRITE A QUERY TO DISPLAY DEPTNO AND MUNBER OF EMPLOYEES WHORKING IN EACH DEPARTMENT EXCEPT FOR THOSE WORKING IN DEPT 10 ?
Ans -  select deptno,count(*) from Employee where deptno!=10 group by deptno;

QUES)13.WAQTD NUMBER OF EMPLOYEES GETTING COMISSION IN EACH DEPARTMENT ?
Ans - select count(*),comission,deptno from Employee group by deptno,comission;

QUES)14.WAQTD NUMBER OF EMPLOYEES GETTING SALARY MORE THAN 1600 EXCLUDING ALL THE MANAGERS IN EACH DEPARTEMNT ?
Ans - select count(*),salary from Employee where salary>1600 and designation='Manager' group by salary;

QUES)15.WAQTD AVERAGE SALARY NEEDED TO PAY ALL THE EMPLOYEES WHO ARE HAVING A REPORTING MANAGER IN EACH JOB ?
Ans - select avg(salary),designation from Employee where reportmgr is not null group by designation;

QUES)16.WAQTD NUMBER OF EMPLOYEES HIRED INTO THE SAME DEPARTMENT ON THE SAME DAY ?
Ans - select count(*),hiredate,deptno from Employee group by hiredate,deptno having count(*)>1;

QUES)17.WAQTD NUMBER OF EMPLOYEES GETTING THE SAME SALARY , WORKING IN THE SAME DEPARTMENT ?
Ans - select count(*),salary,deptno from Employee group by deptno, salary;

QUES)18.WAQTD MAXIMUM SALARY GIVEN IN EACH DESIGNATION EXCLUDING THOSE WHOS NAME STARTS WITH ‘K’ ?
Ans - select max(salary),designation from Employee where designation not like 'K%' group by designation;

QUES)19.WAQTD NUMBER OF EMPLOYEES REPORTING TO 7839 IN EACH DEPT ?
Ans - select count(*),deptno from Employee where empid=7839 group by deptno;

QUES)20.WAQTD NUMBER OF EMPLOYEE NAMES STARTING WITH AN VOWEL IN EACH DEPARTMENT ?
Ans - select count(*),deptno from Employee where ename like 'A%' or ename like 'O%' or ename like 'E%' or  ename like 'I%' or  ename like 'U%' group by deptno;
======================================================================================================

ASSIGNMENT FOR SUBQUERIES
-------------------------------------
QUES)1.DISPLAY ALL THE EMPLOYEES WHOSE DEPARTMET NAMES ENDING 'S' ?
Ans - select * from Employee where deptno=(select deptno from Department where dname like '%s');

QUES)2.QUERY TO DISPLAY THE EMPLOYEE NAMES WHO IS HAVING MAXIMUM SALARY IN DEPT NAME "ACCOUNTING" ?
Ans - select ename from Employee where salary=(select max(salary) from Employee where deptno=(select deptno from Department where dname='ACCOUNTING')) and deptno=(select deptno from Department where dname='ACCOUNTING') ;

QUES)3.QUERY TO DISPLAY THE DEPT NAME WHO IS HAVING HIGHEST COMMISSION ?
Ans - select dname from Department where deptno=(select deptno from Employee where commission=(select max(commission) from Employee group by deptno) and commission is not null);

QUES)4. QUERY TO DISPLAY THE EMPLOYEE NAMES WHOSE DEPARTMENT NAME HAS 2ND CHARACTER AS 'O'?
Ans - select ename from Employee where deptno=(select deptno from Department where dname like '_o');

QUES)5. QUERY TO DISPLAY ALL THE EMPLOYEES WHO’S DEPT NUMBER IS SAME AS SCOTT ?
Ans -  select * from Employee where deptno=(select deptno from Employee where ename='SCOTT');

QUES)6.QUERY TO DISPLAY ALL THE EMPLOYEES IN 'OPERATIONS AND ACCOUNTING' DEPT ?
Ans - select * from Employee where deptno=All(select deptno from Department where dname='OPERATION' and dname='ACCOUNTING');

QUES)7.LIST THE EMPLOYEES WHO HAS SALARY GREATER THAN MILLER ?
Ans -  select * from Employee where salary>(select salary from Employee where ename='MILLER');

QUES)8. LIST DEPARTMENT NAME HAVING ATLEAST 3 SALESMAN ?
Ans -   select dname from Department where deptno=(select deptno from Employee group by deptno,designation having designation='Salesman' and count(deptno)>=3);

QUES)9. DISPLAY THE DNAME OF AN EMPLOYEES WHO HAS  NO REPORTING MANAGER ?
Ans - select dname from Department where deptno=(select deptno from Employee where reportmgr is null);

QUES)10. LIST ALL THE EMPLOYEES WHO ARE REPORTING TO JONES MANAGER ?
Ans - select ename from Employee where manager IN(select empid from Employee where ename='JONES');

QUES)11. LIST EMPLOYEES FROM RESEARCH & ACCOUNTING HAVING ATLEAST 2 REPORTING ?
Ans - select ename from Employee where deptno=all(select deptno from Department where dname='Testing' and dname='Sales' group by deptno having count(*)>=2);

QUES)12. DISPLAY THE DEPARTNAME OF THE EMPLOYEE WHOSE NAME DOES NOT STARTS 
         WITH S AND SALARY BETWEEN 1500 TO 3000 ?
Ans -  select dname from Department where deptno=(select deptno from Employee where ename not like '%' and salary between 1500 and 25000 group by deptno;

QUES)13.DISPLAY LOCATION OF EMPLOYEE WHOSE SALARY IS MINIMUM SALARY BUT SALARY IS GREATER THAN 2000 ?
Ans - select location from Department where deptno=(select deptno,min(salary) from Employee where salary>2000 group by deptno); 

QUES)17. DISPLAY ALL THE EMPLOYEES WHO IS HAVING LOCATION IS SAME AS ADAM'S MANAGER?
Ans -select ename from Employee where deptno=all(select deptno from Department where location=all
    (select location from Department where deptno=(select deptno from Employee where reportmgr=
    (select reportmgr from Employee where ename='Nidhi')))); 
==================================================================================================================================================

OUTER JOIN
-------------------------------------
1. LEFT OUTER JOIN
2. FULL OUTER JOIN
3. RIGHT OUTER JOIN

LEFT OUTER JOIN
-----------------------------
Syntax - SELECT */COLUMN_NAME FROM TABLE_1
         LEFT JOIN TABLE_2 
         ON Condition(T1.A1=T2.A2)

RIGHT OUTER JOIN
-------------------------------
Syntax - SELECT */COLUMN_NAME FROM TABLE_1
         RIGHT JOIN TABLE_2 
         ON Condition(T1.A1=T2.A2)

FULL OUTER JOIN
-----------------------------------------
Combination of left outer join and right outer join in klnowm as full outer join.

Syntax- SELECT */COLUMN_NAME FROM TABLE_1 FULL JOIN TABLE_2
        ON CONDITION(T1.A1=T2.A2)

WAQ to diaplay a dname which dont have emp working on it?  
Ans - select dname from Employee as e full join  Department as d on e.deptno=d.deptno; 

WAQ  to obtained or ename whose not working for any department?
Ans select ename from Employee as e left join Department as d on e.deptno=d.deptno where d.deptno is null;  

NATURAL JOIN
-----------------------------
Syntax- SELECT*/COLUMN_NAME FROM TABLE_1 NATURAL JOIN TABLE_2;  

We will get the common record from both the table and if there is not any common record it will get the cross join.
NOTE -  we dont need a condition .
=============================================================================================================================================

SELF JOIN
----------------------------------
In self join only one table is there but for join we need a two table so we give alias name to fatch the data.
Merging of one table is self join.

Syntax - SELECT * FROM TABLE_1 JOIN TABLE_2 ON CONDITION;

Ques)Assignment find out diff between drop ,delete,truncate?
Ans - 

SINGLE ROW FUNCTION
-------------------------------------
1.Character single row function:
 * Case
 * Character

CASE :
* upper()
Example - select upper(ename) from Employee;

* lower()
Example - select lower(ename) from Employee;

* initcap()
Example - select initcap(ename) from Employee; 

CHARACTER :
  *length() -
  Example : 1. select length('ruby');
            2. select length(ename) from Employee;

  *concat()- 
  Example : 1. select concat('ruby','das');
            2. select concat(ename,'das') from Employee;

  *reverse()-
  Example : 1. select reverse('ruby');
            2. select reverse(ename) from Employee;

  *substr() - (String,position,length)
  Example : 1. select substr('postgresql',7); Ans - esql
            2. select substr('postgresql',8); Ans - sql
            3. select substr(designation,7,5) from Employee;

  *replace() -
  Example : 1. select replace('ruby','ub','oo');

  *instr()- it is not in postgresql
  *position('search string' in 'main string')
  Example - 1. select position('es' in ename) from Employee;
            2. select position('sql' in 'postgresql'); Ans- 8

  *trim() - trim([leading(starting)\trailing(ending)\both]< remove string > from <main string>)
  NOTE - but the both keyword is optional to trim both the side.
  Example - 1. select trim(leading 'm' from 'madam'); Ans - adam
            2. select trim(trailing 'm' from 'madam'); Ans - mada
            3. select trim(both 'm' from 'madam'); Ans - ada
            4. select trim('m' from 'madam'); Ans - ada
  

NUMBER SINGLE ROW FUNCTION
---------------------------------
mod() -
Example : 1. select mod(10,5); Ans - 0
          2. select mod(10,3); Ans - 1
          3. select mod(salary,2) from Employee;

power() -
Example : 1. select power(3,2); Ans - 9
     
sqrt() - 
Example : 1. select sqrt(3);  Ans - 1.732
       
round() - case1 : round(number,scale)
                  round(6783.47) and having range if number after decimal between 0-4 will be taken as lower value
                  but number after decimal between 5-9 will be taken as higher value .
 
Example - select round(6783.47); Ans - 6783
          select round(6783.67); Ans - 6784

case2 : round(6789.45663,2)

Example - select round(6789.45663,2); Ans - 

case3 : round(6789.45663,-1)
                  10 ->6780
Example : select round(6789.45663,-1); Ans - 6780
          select round(6789.45663,-2); Ans - 6700
          select round(6789.45663,-3); Ans - 6000
abs()-
Example : select abs(-144); -> Ans - 144

trunc() - it will alwys give u the lower value
Example :select trunc(4.7); -> Ans - 4

Ques)Assignment to find the substr from right side ?

DATE AND TIME FUNCTION 
---------------------------------

AGE() - 
QUES)find age ?
select age('1994-03-09'); Ans 26

QUES) how to find century ?
Ans - select extract(century from timestamp '2020-12-15 13:13:23');

QUES) how to find decade?
Ans - select extract(decade from timestamp '2020-12-15');
 
QUES) how to find day?
Ans - select extract(day from timestamp '2020-12-15');

QUES) How to find doy-day of the year?
Ans - select extract(dow from timestamp '2020-05-29');

QUES) how to find dow-day of the week?
Ans - select extract(dow from timestamp '2020-05-29');

dom-day of the month

QUES) how to find week from a day ?
Ans - select extract(week from timestamp '2020-05-29');

QUES) how to find month from a day ?
Ans - select extract(month from timestamp '2020-05-29');

QUES) How to find hours from a day ?
Ans - select extract(hours from timestamp '2020-12-15 13:13:23');

QUES) how to find minutes?
Ans - select extract(min from timestamp '2020-12-15 13:13:23');

NOW FUNCTION
----------------------
QUES)How to find date and time without using timestamp?
Ans - select now();

QUES)how to find date ?
Ans - select now()::date;

Ques)How  to find time?
Ans - select now()::time;
==================================================================================================================================

TCL - TRANSCATION CONTROL LANGUAGE
--------------------------------------------------
Trascation is a unit of work that performed againts a data base. or we are doing some changes into the data base.
TCL It is used with DML command(update,insert,delete).

TCL Command

1.commit - It is used to make DML changes permanently
2.rollback - it is like a undo operation. it take back as to previous commit.
NOTE - We have to start with 'BEGIN' command and to finish use END command.
3.savepoint - it is used to create multiple savepoint 


PROPERTIES 
----------------------
1. Its is having ACID(atmoicity consistency isolation durability) properties. 

Atomicity
---------------
All changes to data are performed as if they are a single operation. That is, all the changes are performed, or none of them are.
For example, in an application that transfers funds from one account to another, the atomicity property ensures that, if a debit is made successfully from one account, the corresponding credit is made to the other account.

Consistency
-------------------
Data is in a consistent state when a transaction starts and when it ends.
For example, in an application that transfers funds from one account to another, the consistency property ensures that the total value of funds in both the accounts is the same at the start and end of each transaction.

Isolation
----------------------
The intermediate state of a transaction is invisible to other transactions. As a result, transactions that run concurrently appear to be serialized.
For example, in an application that transfers funds from one account to another, the isolation property ensures that another transaction sees the transferred funds in one account or the other, but not in both, nor in neither.

Durability
-------------------
After a transaction successfully completes, changes to data persist and are not undone, even in the event of a system failure.
For example, in an application that transfers funds from one account to another, the durability property ensures that the changes made to each account will not be reversed.



NORMALIZATION(FD)
---------------------------
Attributes- which define data (properties).

KEY Attributes - A key attribute is the unique characteristic of the entity. For ex. Name and hire date are attributes of the entity Employee.

Non key attributes - apart from  key attributes we will get all  the record. 0r These are attributes other than candidate key attributes in a table. 
                     For example Firstname is a non key attribute as it does not represent the 
                     main characteristics of the entity. Required Attribute : A required 
                     attribute is an attribute that must have a data value.

Prime key attributes : we are specifing the attribute 

Non Prime key attributes : 

Composite primary key : combination of two or more column in which are help us to identify unique record .
                       or the combination of two more attributes which determines a record uniquely is know as 
                       "composite key attributes".

Super Key - The set of all the key attributes of an entity is known as 'Super key'.

Foreign Key - Foreign key is an attributes which actually access an attribute of another entity to represent
              the relationship.

==============================================================================================

FUNCTIONAL DEPENDENCY
------------------------------
It is a relationship between attributes of the table dependent upon each other.
it is help us to preventing data reducency and anamulancy.

           R --> {X,Y} {empid,name}
           X is determining Y                   empid is determining name 
           Y is dependent on X                  name is dependent on empid

TYPES OF FUNCTION DEPENDENCY
-----------------------------------------
Total FD - In a relation any one single key attributes determining all the attributes.
        or If all the attribute of a relation a determine by a key attribute called as "Total
           Functional Dependeny".  
           that help us to identify a record.
           All the attributes depends upon the single key attributes.
 R-->{A,B,C,D}
 A--->{B,C,D}
 A-->{B}
 A-->{C}
 A-->{D}


Partial FD - A relation is said to have partial functional dependency IF
             It consist a composite key attribute.
             There exist a dependency such that an attribute can be determine by another attribute,
             which is part of composite key attribute.

 R-->{A,B,C,D} => AB is a composite key attribute.
 AB--->{D}
 B--->{C}
 AB--->{C,D}
 
Transitive FD - When an indirect relationship causes functional dependency it is called Transitive Dependency.
                A relation is said to have an transitive functional dependency.if
1.There exist an relation such that an attribute is determine by a no key attribute which interm
determined by a key attribute.{there exist a transitive closure}.

If  P -> Q and Q -> R is true, then P-> R is a transitive dependency.

=>To achieve 3NF, eliminate the Transitive Dependency.
 
R-->{A,B,C,D}
A-->{B}
A-->{D}
D-->{C}
A--> {C}  (And A and C are TFD)

REDUENCY -

ANAMOLY - side effect of dml operation

To over with this problem we come with normalization

NORMALIZATION
------------------------
The process of the decomposing the table into smaller table in order to remove redundancy
and anomalies  by identifying the dependencies is known as "Normalization".

NOTE - Table are said to be normalized if is said to be 3NF.

1NF - FIRST NORMAL FORM
-----------------------------
There should be no dupilcate row and every cell in a table should be atomic value.

2NF - SECOND NORMAL FORM
--------------------------------
It should not have partial dependency(sholud not have composite key) and it should follow the 1NF form.

3NF -THIRD NORMAL FORM
---------------------------------
The table should be in 2NF form and should not be in transitive FD.

BCNF - Boyce-Codd NormalForm 
------------------------------------------------------
For a table to satisfy the Boyce-Codd normal form,it should satisfy the following two conditions :
1. It should be in the 3NF.
2And ,for any dependency A -> B,A should be a super key.

4NF-FOURTH NORMAL FORM
----------------------------------
 For a table to satisfy the 4NF normal form,it should satisfy the following two conditions :
1. It should be in the Boyce-Codd NormalForm.
2. And the table should not have any multi-valued dependency.
===============================================================================================================================================

TABLE
----------------
create table Address_info (empid INTEGER REFERENCES Employee(empid),current_address varchar(200) not null,permanent_ddress  varchar(200));
1.insert into Address_info (empid,current_address,permanent_ddress) values(10,'Aishwarya pg Marathalli Bangalore Pincode-560037','Qno-32 X-type Sidhgora Jamshedpur Pincode-831009');
2.insert into Address_info values(13,'SLVR pg Whitefield Bangalore Pincode-560039','infosys phase-2 hinjewadi Pune Pincode-411002');
3.insert into Address_info values(15,' info city road Patia Bhubaneswar Pincode-751003','Qno-24 X-type Baridih Jamshedpur Pincode-831008');
2 insert into Address_info values(17,'THANE MAHARASHTRA Pincode-400603','PATNA BIHAR PINCode-800005');

ON DELETING
-------------------------
ERROR - update or delete on table "employee" violates foreign key constrai
        fo_empid_fkey" on table "address_info"
DETAILS-Key (empid)=(10) is still referenced from table "address_info".

ON INSERTING
-------------------
Error -  insert or update on table "address_info" violates foreign key constraint
         ss_info_empid_fkey"
DETAILS- Key (empid)=(50) is not present in table "employee".
======================================================================================

VIEW
--------------------------
Views in SQL are considered as a virtual table,that can be created on an existing table.
A view is same as table it also contains row and columns.
A view can either have specific rows based on certain condition or all the rows of a table.
Any operation performed on view will be reflected on the base table.
its a tempory.

Syntax : CREATE VIEW view_name 
         AS
         SELECT * FROM TABLE_NAME WHERE CONDITION;

QUES)To check records of the view ?

Ans - SELECT * FROM VIEW_NAME;

      DROP VIEW VIEW_NAME;

STORED PROCEDURE
------------------------------------
CREATE[OR REPLACE] PROCEDURE_NAME(PARAMETER LIST)
language language_name(like PLpgSQL/SQL)
AS $$
stored procedure body
$$;

